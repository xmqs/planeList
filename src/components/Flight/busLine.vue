<template>
  <div>
    <div class="title_header">
      <div class="change_page">
        <div class="active"><img src="./../../../static/img/bus/busiconA@1.png" alt="">机场巴士</div>
        <div><img src="./../../../static/img/bus/busicon@2.png" alt="">自驾</div>
        <div><img src="./../../../static/img/bus/busicon@3.png" alt="">公交</div>
      </div>
      <div class="search_page">
        <input type="text" placeholder="查询出发地">
      </div>
    </div>
    <div id="container"></div>
    <div class="info">

    </div>
  </div>
</template>

<script>
  import AMap from 'AMap'
  export default {
    name: "busLine",
    data(){
      return{
        markers:[
          {
            icon: './../../static/img/point.png',
            position: [118.79882,32.084076],
            title:"南京火车站"
          },
          {
            icon: './../../static/img/point.png',
            position: [118.803505,32.036488],
            title:"西华门"
          },
          {
            icon: './../../static/img/point.png',
            position: [118.80014,32.019787],
            title:"七里街"
          },
          {
            icon: './../../static/img/point.png',
            position: [118.79673,32.009586],
            title:"秦虹桥"
          },
          {
            icon: './../../static/img/point.png',
            position: [118.784599,31.992401],
            title:"雨花广场"
          },
          {
            icon: './../../static/img/point.png',
            position: [118.795319,31.92849],
            title:"翠屏山宾馆"
          },
          {
            icon: './../../static/img/point.png',
            position: [118.876617,31.731215],
            title:"南京禄口机场"
          }
        ],
        xs:"118.876617,118.876823,118.877029,118.877167,118.877304,118.877419,118.877563,118.877937,118.878128,118.878296,118.878403,118.878456,118.878464,118.878456,118.878418,118.878319,118.878281,118.87825,118.87822,118.878227,118.878265,118.878319,118.878387,118.878464,118.878517,118.878555,118.878647,118.878693,118.878754,118.878822,118.879005,118.879662,118.87986,118.880005,118.882896,118.884491,118.885468,118.886719,118.890747,118.892776,118.893311,118.893646,118.89415,118.894714,118.895088,118.895432,118.895775,118.895813,118.895958,118.896111,118.896301,118.896492,118.896561,118.896591,118.896591,118.896545,118.8965,118.896461,118.896408,118.896309,118.896194,118.895943,118.895714,118.895294,118.8946,118.894081,118.893417,118.892746,118.891708,118.891701,118.89016,118.889931,118.889618,118.888664,118.887016,118.885574,118.884758,118.88401,118.883354,118.882362,118.880997,118.88002,118.879173,118.878052,118.877327,118.876587,118.870262,118.865593,118.862312,118.861031,118.860504,118.8591,118.858734,118.857971,118.857246,118.856598,118.855888,118.855331,118.849358,118.848038,118.840385,118.837265,118.836983,118.83625,118.835205,118.834587,118.833878,118.833076,118.832642,118.831627,118.830536,118.830261,118.829659,118.828873,118.828438,118.827934,118.827393,118.826927,118.825905,118.825439,118.825058,118.82473,118.824341,118.823822,118.823074,118.82267,118.822205,118.821861,118.821663,118.821152,118.821129,118.821007,118.820763,118.820419,118.820038,118.819862,118.819672,118.819534,118.819344,118.819237,118.819191,118.819046,118.818878,118.818871,118.818817,118.81881,118.818802,118.818764,118.818733,118.818718,118.818718,118.81871,118.81868,118.818665,118.818665,118.818626,118.818619,118.818596,118.818542,118.818489,118.818375,118.818314,118.818176,118.818024,118.817856,118.817642,118.817398,118.817116,118.816788,118.816597,118.816475,118.816109,118.816032,118.815437,118.81517,118.814713,118.814354,118.814301,118.81385,118.813515,118.813232,118.812889,118.812508,118.812363,118.811913,118.811096,118.810432,118.809738,118.809723,118.809517,118.808983,118.807381,118.806473,118.805817,118.80526,118.804962,118.804184,118.80397,118.803749,118.803299,118.802536,118.801979,118.801079,118.800552,118.800209,118.799904,118.799782,118.799683,118.799355,118.799278,118.798729,118.798508,118.798325,118.798058,118.797867,118.797653,118.797592,118.797447,118.797363,118.797203,118.797173,118.796928,118.796875,118.796776,118.796753,118.796638,118.7966,118.796562,118.796494,118.796303,118.796272,118.796257,118.796181,118.796181,118.796112,118.796097,118.796059,118.796043,118.796005,118.795975,118.795685,118.795555,118.795494,118.795403,118.795319,118.795311,118.795135,118.795036,118.794792,118.794685,118.794189,118.793915,118.793716,118.793297,118.793198,118.792831,118.792274,118.792015,118.790993,118.790649,118.790176,118.788879,118.788544,118.787949,118.787567,118.787323,118.787148,118.786926,118.786812,118.786377,118.785805,118.785286,118.784882,118.784592,118.784172,118.784027,118.783806,118.783646,118.783203,118.783005,118.78289,118.782799,118.782722,118.782654,118.782585,118.782578,118.782578,118.7826,118.782692,118.782761,118.782913,118.78299,118.78302,118.783035,118.783028,118.783005,118.782951,118.782936,118.782852,118.782799,118.782677,118.782387,118.782341,118.782089,118.781906,118.781929,118.781929,118.781929,118.781631,118.781631,118.781631,118.781631,118.781441,118.781326,118.781288,118.781265,118.781212,118.781212,118.781212,118.781288,118.781311,118.781387,118.781433,118.781464,118.781509,118.784599,118.784599,118.785103,118.786285,118.786415,118.786736,118.78714,118.787575,118.787811,118.788376,118.789513,118.789597,118.790298,118.790558,118.790619,118.791466,118.792786,118.793396,118.793823,118.794159,118.794434,118.794792,118.794998,118.795349,118.795486,118.795624,118.795776,118.795921,118.79599,118.796089,118.796249,118.796242,118.796303,118.796341,118.796364,118.796364,118.796364,118.796303,118.796242,118.796242,118.796219,118.796165,118.796158,118.79615,118.796234,118.796188,118.796165,118.796211,118.796219,118.796257,118.796272,118.796356,118.796417,118.796486,118.79673,118.79673,118.797211,118.797234,118.797577,118.798149,118.798363,118.798462,118.7985,118.798668,118.799011,118.799309,118.799469,118.799515,118.799606,118.79985,118.800064,118.800125,118.80014,118.80014,118.80014,118.800316,118.800339,118.800446,118.800537,118.800468,118.800636,118.800682,118.800888,118.801086,118.801201,118.801559,118.801689,118.80172,118.801804,118.801842,118.801872,118.801903,118.801956,118.801979,118.802017,118.802116,118.802284,118.80233,118.802376,118.802528,118.802605,118.802742,118.802757,118.802887,118.803001,118.80307,118.803154,118.803177,118.803291,118.803261,118.803345,118.803383,118.803505,118.803505,118.803642,118.804283,118.804535,118.804634,118.804665,118.804726,118.804932,118.805,118.805069,118.805183,118.805229,118.805313,118.805832,118.806305,118.806572,118.80674,118.806946,118.80703,118.807343,118.807564,118.807625,118.807831,118.807945,118.808067,118.808289,118.808467,118.808818,118.808962,118.809011,118.809027,118.808989,118.808877,118.808823,118.808726,118.808533,118.808405,118.808195,118.80768,118.806447,118.805529,118.805325,118.805181,118.805079,118.804891,118.804837,118.80481,118.804789,118.804821,118.804791,118.804796,118.804802,118.80485,118.804968,118.80507,118.805177,118.805467,118.805638,118.805767,118.806271,118.807039,118.807623,118.807788,118.807847,118.807884,118.808008,118.80811,118.808474,118.808592,118.808737,118.808877,118.808957,118.809086,118.8092,118.809329,118.809506,118.809635,118.809812,118.809919,118.809908,118.809882,118.809844,118.80979,118.809731,118.809635,118.809442,118.809184,118.809039,118.808905,118.808798,118.807076,118.805588,118.804146,118.804031,118.802979,118.802658,118.80262,118.80175,118.800758,118.800568,118.800079,118.799759,118.79969,118.799637,118.799149,118.798996,118.798851,118.79882",
        ys: "31.731215,31.731346,31.731554,31.731724,31.732018,31.732244,31.73246,31.732904,31.733194,31.733511,31.733828,31.734137,31.734354,31.734592,31.734783,31.735117,31.735447,31.735582,31.735821,31.736002,31.736229,31.736397,31.736532,31.736637,31.736692,31.736727,31.736774,31.736906,31.73704,31.737141,31.737267,31.737652,31.737822,31.73789,31.739401,31.740265,31.740795,31.741453,31.743624,31.744774,31.745117,31.745352,31.745747,31.746311,31.74678,31.747284,31.747799,31.747877,31.748169,31.748489,31.748949,31.749691,31.750238,31.750841,31.750938,31.751541,31.751966,31.752583,31.752747,31.752991,31.753229,31.753712,31.754131,31.75493,31.756186,31.757057,31.758125,31.759157,31.760695,31.760695,31.762938,31.76326,31.763594,31.764479,31.766264,31.767717,31.768497,31.769188,31.769766,31.77063,31.771727,31.772488,31.773108,31.773907,31.77441,31.774897,31.77891,31.781862,31.783949,31.784813,31.785183,31.786215,31.786493,31.787092,31.787674,31.788221,31.788824,31.789331,31.794834,31.796055,31.803102,31.805981,31.806246,31.806957,31.808016,31.808659,31.809423,31.810322,31.810816,31.81204,31.813402,31.813759,31.814569,31.815668,31.816311,31.817066,31.817886,31.818624,31.820347,31.82119,31.821901,31.822531,31.82332,31.824389,31.826073,31.827023,31.828224,31.829176,31.829683,31.831255,31.831341,31.831732,31.832552,31.833797,31.835352,31.836159,31.837101,31.837856,31.83898,31.839649,31.839966,31.841242,31.842865,31.843035,31.843777,31.843954,31.843988,31.84487,31.845516,31.846272,31.847031,31.847527,31.848125,31.848372,31.848623,31.849127,31.849396,31.849844,31.850443,31.850882,31.8519,31.852379,31.853308,31.854267,31.855087,31.856142,31.857204,31.858238,31.859358,31.860001,31.860365,31.861471,31.861727,31.863224,31.86385,31.864901,31.865694,31.865833,31.866714,31.867382,31.867922,31.868546,31.869219,31.869471,31.870226,31.871529,31.872509,31.873503,31.873524,31.87381,31.874523,31.876627,31.877834,31.878702,31.879457,31.879883,31.881063,31.881384,31.88172,31.882456,31.883745,31.884775,31.886576,31.887691,31.888498,31.889214,31.889523,31.889795,31.890669,31.890863,31.892483,31.893238,31.89385,31.89484,31.895617,31.896566,31.896835,31.89757,31.898073,31.899019,31.89921,31.901033,31.901619,31.902895,31.903419,31.906124,31.907019,31.907621,31.909601,31.914604,31.915274,31.915754,31.917118,31.917557,31.91954,31.920034,31.920715,31.920977,31.92198,31.922661,31.925655,31.926744,31.927271,31.927929,31.92849,31.92849,31.929678,31.930347,31.931667,31.932201,31.934448,31.935591,31.936415,31.937922,31.938303,31.93951,31.941277,31.942039,31.945187,31.946194,31.947674,31.951532,31.952536,31.954344,31.955507,31.956249,31.956789,31.957453,31.957752,31.959076,31.960791,31.962349,31.963612,31.964428,31.965694,31.966085,31.966753,31.967239,31.968576,31.969236,31.969706,31.970135,31.970568,31.971077,31.971893,31.972197,31.972731,31.973419,31.974609,31.975624,31.977491,31.978308,31.97891,31.979227,31.979887,31.980173,31.980633,31.980782,31.981155,31.981384,31.98184,31.982718,31.982885,31.983685,31.984219,31.984396,31.984432,31.984484,31.985477,31.985512,31.985634,31.985743,31.986366,31.986975,31.987261,31.987513,31.988495,31.988697,31.98875,31.991974,31.992205,31.992249,31.992283,31.992327,31.992405,31.992401,31.992395,31.992395,31.992399,31.992399,31.992422,31.992474,31.992579,31.992647,31.992855,31.993361,31.993443,31.993752,31.993885,31.993984,31.994328,31.9949,31.995173,31.995405,31.995621,31.995819,31.996151,31.996363,31.996794,31.996981,31.99725,31.997568,31.997919,31.998091,31.998312,31.998716,31.998875,31.999149,31.999376,31.999701,31.999853,32.000069,32.001511,32.002998,32.003174,32.003555,32.00481,32.004925,32.005051,32.005337,32.006561,32.007271,32.007515,32.007755,32.00806,32.008156,32.00848,32.008675,32.008945,32.009586,32.009583,32.010914,32.010979,32.011913,32.01355,32.014156,32.014477,32.014568,32.014996,32.015934,32.016819,32.017277,32.017399,32.017792,32.018711,32.019531,32.019714,32.019787,32.019791,32.019787,32.020443,32.02058,32.020985,32.021366,32.02166,32.022243,32.022484,32.023254,32.023438,32.023949,32.025505,32.026142,32.026272,32.026844,32.027096,32.027393,32.027653,32.028099,32.028271,32.028553,32.029221,32.030212,32.030495,32.030766,32.031467,32.031872,32.032413,32.032516,32.033203,32.033897,32.034241,32.034744,32.034966,32.035412,32.035648,32.035912,32.036045,32.036488,32.036484,32.036915,32.039055,32.039879,32.040329,32.040478,32.04084,32.042179,32.042713,32.043072,32.043606,32.043781,32.044052,32.04562,32.04702,32.047802,32.048332,32.048943,32.049202,32.050354,32.05122,32.051479,32.05267,32.053509,32.054466,32.05637,32.057855,32.06093,32.062366,32.06298,32.063426,32.064162,32.064876,32.065162,32.065571,32.066167,32.066494,32.066972,32.067922,32.070149,32.071786,32.072167,32.072472,32.072717,32.073304,32.073527,32.073708,32.073922,32.074118,32.074608,32.074849,32.075063,32.075231,32.075495,32.075618,32.075745,32.075927,32.076004,32.076049,32.076159,32.076313,32.076509,32.076608,32.076668,32.076731,32.07679,32.076845,32.077054,32.077108,32.077154,32.077172,32.077168,32.07709,32.077063,32.077054,32.077095,32.077149,32.07729,32.077499,32.077677,32.077745,32.077845,32.077927,32.07799,32.078045,32.078095,32.078077,32.078036,32.077945,32.077827,32.078846,32.079708,32.080559,32.080688,32.081223,32.081455,32.081615,32.082146,32.082733,32.082863,32.083187,32.083405,32.083447,32.083542,32.083824,32.083923,32.084068,32.084076",
        map:{},
        line:[],
      }
    },
    mounted() {
      this.init();
    },
    methods: {
      init: function () {
        this.map = new AMap.Map('container', {
          resizeEnable: true,
          zoom: 12
        })
        AMap.plugin(['AMap.ToolBar', 'AMap.Scale'], function () {
          this.map.addControl(new AMap.ToolBar())
          this.map.addControl(new AMap.Scale())
        })


        this.xs = this.xs.split(',');
        this.ys = this.ys.split(',');
        for (let i = 0;i<this.ys.length;i++){
          this.line.push([this.xs[i],this.ys[i]]);
        }

        let polyline = new AMap.Polyline({
          path: this.line,          //设置线覆盖物路径
          strokeColor: "#25C2F2", //线颜色
          strokeOpacity: 1,       //线透明度
          strokeWeight: 4,        //线宽
          strokeStyle: "solid",   //线样式
          strokeDasharray: [10, 5] //补充线样式
        });
        polyline.setMap(this.map);

        this.markers.forEach((marker)=> {
          let Mark = new AMap.Marker({
            map: this.map,
            icon: marker.icon,
            position: [marker.position[0], marker.position[1]],
            offset: new AMap.Pixel(-8, -8),
          })
          Mark.on('click',()=>{
            this.map.panTo(marker.position);
            console.log(marker.title);
          })

        });


      }
    }
  }
</script>

<style scoped>
  #container{
    width: 750px;
    height: 1334px;
  }
  .title_header{
    height: 177px;
    width: 750px;
    background: #285FB1;
    position: fixed;
    top: 0;
    z-index: 9999;
  }
  /*顶部切换分页样式*/
  .change_page{
    display: flex;
    height: 88px;
    justify-content: center;
    padding: 30px;
    align-items: center;
  }
  .change_page img{
    display: inline;
    width: 28px;
    margin-right: 10px;
  }
  .change_page div{
    margin:0 20px ;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 192px;
    height: 52px;
    border-radius: 26px;
    text-align: center;
    line-height: 52px;
    font-size: 28px;
    font-family:PingFangSC-Regular;
    color:rgba(40,95,177,1);
    color: #fff;
  }
  .change_page div.active{
    width: 192px;
    height: 52px;
    background: #fff;
    border-radius: 26px;
    text-align: center;
    line-height: 52px;
    font-size: 28px;
    font-family:PingFangSC-Regular;
    color:rgba(40,95,177,1);
  }

  /*搜索框样式*/
  .search_page{
    height: 88px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .search_page input{
    width:686px;
    height:60px;
    background:rgba(255,255,255,0.12) url("./../../../static/img/searchicon.png") no-repeat;
    background-size: 24px;
    background-position: 20px center;
    border-radius:10px;
    outline: 0;
    border:0;
    padding-left: 56px;
    font-size:28px;
    color: #fff;
  }
  input::-webkit-input-placeholder{
    color:#fff;
  }
  input::-moz-placeholder{   /* Mozilla Firefox 19+ */
    color:#fff;
  }
  input:-moz-placeholder{    /* Mozilla Firefox 4 to 18 */
    color:#fff;
  }
  input:-ms-input-placeholder{  /* Internet Explorer 10-11 */
    color:#fff;
  }
  .info{
    position: fixed;
    display: flex;
    bottom: 0;
    width: 750px;
    height: 366px;
    background: #fff;

  }
</style>
